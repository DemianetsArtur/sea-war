<div class="body">
  <app-menu-profile></app-menu-profile>

<div *ngIf="userAllArray.length === 0; else elseBlock" >
  <mat-progress-spinner class="progress-spinner-align" mode="indeterminate"></mat-progress-spinner>
</div>
<ng-template #elseBlock>
  <mat-card class="example-card" *ngFor="let user of userAllArray">
    <mat-card-header>
      <div mat-card-avatar class="example-header-image"><img mat-card-avatar class="example-header-image" [src]="userAccountCurrentData.imagePath" alt=""></div>
      <mat-card-title>{{user.name}}</mat-card-title>
      
    </mat-card-header>
    <mat-card-content class="image-content">
      <img mat-card-image
      class="img-content"  
      [src]="userAccountCurrentData.imagePath" 
      alt="User Photo">
    </mat-card-content>
    
    <mat-card-content>
        <mat-card-title>{{user.firstName}} {{user.lastName}}</mat-card-title>
        <mat-card-subtitle>Birthday: {{user.date}}</mat-card-subtitle>
        <mat-card-subtitle>About Me: {{user.aboutMe}}</mat-card-subtitle>
    </mat-card-content>
    <mat-card-actions>
    </mat-card-actions>
  </mat-card>

  <mat-card class="post-card-create">
    <mat-card-header>
      <div mat-card-avatar class="example-header-image"><img mat-card-avatar class="example-header-image" [src]="userAccountCurrentData.imagePath" alt=""></div>
      <button mat-button 
              class="post-create" (click)="postCreate()">What`s on your mind?</button>
    </mat-card-header>
    <mat-card-subtitle class="text-create-post-sub">Click to create a post.</mat-card-subtitle>
    
  </mat-card>


  <div *ngIf="postsGet.length !== 0">

    <div class="post-hr-align">
      <hr class="post-hr">
    </div>
    

    <div class="post-card">
      
      <mat-card class="post-content" *ngFor="let post of postsGet">
        <mat-card-header>
          <div mat-card-avatar class="example-header-image"><img mat-card-avatar class="example-header-image" [src]="userAccountCurrentData.imagePath" alt=""></div>
          <mat-card-title>{{userAccountCurrentData.firstName}} {{userAccountCurrentData.lastName}}</mat-card-title>
          <mat-card-subtitle>{{post.partitionKey}}</mat-card-subtitle>
        </mat-card-header>
        
        <div *ngIf="post.nameContent !== null">
          <mat-card-content class="post-image-content">
            <img mat-card-image
                 class="post-img"  
                 [src]="post.nameContent">
            <video autoplay muted loop class="post-img" [src]="post.nameContent"></video>
          </mat-card-content>
        </div>
        <div>
            <mat-card-content>
              <mat-card-title class="post-text-content">{{post.postText}}</mat-card-title>
            </mat-card-content>
        </div>
      </mat-card>
    </div>
  </div>
  
</ng-template>
</div>
  
